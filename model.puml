@startuml
hide methods
hide stereotypes

entity Project {
  + project_id [PK]
  --
  name VARCHAR[255]
}

entity Story {
  + story_id [PK]
  --
  project_id [FK]
  subject VARCHAR[255]
  description CLOB
  point NUMBER[2,1]
}

entity Task {
  + task_id [PK]
  --
  subject
  description
  estimated_hours
  status_id
}

entity TaskStatus {
  + status_id [PK]
  --
  name
}

entity IterationPlan {
  + iteration_id [PK]
  + story_id [PK]
  --
  position INTEGER
}

entity Iteration {
  + iteration_id [PK]
  --
  subject
  description
  start_on
  end_on
}

entity DevelopmentTask {
  + task_id [PK]
  --
  + story_id
}

entity User {
  + user_id [PK]
  --
  account
}

entity Membership {
  + user_id [PK]
  + project_id [PK]
}

entity TaskAssignment {
  + task_assignment_id
  --
  task_id
  user_id
  work_on
}

entity IterationContributionPlan {
  + user_id
  + iteration_id
  --
  hours
}

Project --right--{ Iteration
Project ----{ Story
Iteration ----{ IterationPlan
IterationPlan }---- Story
Project |o--right--{ Task
Task ---o| DevelopmentTask
Task ---o| Overheads
Task }--- TaskStatus
DevelopmentTask }---- Story
Project ----{ Membership
Membership }----- User
Task ----{ TaskAssignment
User }---- TaskAssignment
IterationContributionPlan }---- User
IterationContributionPlan }---- Iteration
@enduml
